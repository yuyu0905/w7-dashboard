import{S as a}from"./sweetalert2.all-5934950a.js";import{_,r as l,o as d,c as v,b as e,a as s,f as r,w as f,g as k,h as m,F as b,i as n}from"./index-78da3a39.js";const{VITE_API:g}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"vue-hexschool-product-list",BASE_URL:"/w7-dashboard/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{checkSuccess:!1}},methods:{checkLogin(){this.$http.post(`${g}/api/user/check`).then(()=>{this.checkSuccess=!0}).catch(t=>{a.fire({icon:"error",title:t.response.data.message}),this.$router.push("/")})},logout(){document.cookie="w7-token=;expires=;",a.fire({icon:"success",title:"登出成功",showConfirmButton:!1,timer:1500}),this.$router.push("/")}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)w7-token\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,t?this.checkLogin():(a.fire({icon:"error",title:"您尚未登入"}),this.$router.push("/"))}},x={class:"navbar navbar-expand-lg navbar-dark bg-dark"},$={class:"container-fluid"},S=e("a",{class:"navbar-brand",href:"#"},"後台",-1),V=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),C={class:"collapse navbar-collapse",id:"navbarSupportedContent"},E={class:"navbar-nav"};function A(t,c,B,I,u,i){const o=l("router-link"),h=l("router-view");return d(),v(b,null,[e("nav",x,[e("div",$,[S,V,e("div",C,[e("div",E,[s(o,{class:"nav-link",to:"/admin/products"},{default:r(()=>[n("產品列表")]),_:1}),s(o,{class:"nav-link",to:"/admin/orders"},{default:r(()=>[n("訂單列表")]),_:1}),s(o,{class:"nav-link",to:"/admin/coupons"},{default:r(()=>[n("優惠券")]),_:1}),e("a",{href:"#",class:"nav-link",onClick:c[0]||(c[0]=f((...p)=>i.logout&&i.logout(...p),["prevent"]))},"登出")])])])]),u.checkSuccess?(d(),k(h,{key:0})):m("",!0)],64)}const D=_(w,[["render",A]]);export{D as default};
