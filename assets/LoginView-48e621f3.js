import{S as d}from"./sweetalert2.all-5934950a.js";import{_ as m,r as p,o as h,c as f,a as _,b as s,w,d as l,v as c,F as g}from"./index-78da3a39.js";const{VITE_API:v}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"vue-hexschool-product-list",BASE_URL:"/w7-dashboard/",MODE:"production",DEV:!1,PROD:!0},b={data(){return{isLoading:!1,user:{username:"",password:""}}},methods:{login(){this.isLoading=!0,this.$http.post(`${v}/admin/signin`,this.user).then(r=>{const{token:e,expired:i,message:n}=r.data;document.cookie=`w7-token=${e}; expires=${i}`,this.$http.defaults.headers.common.Authorization=e,d.fire({icon:"success",title:n,showConfirmButton:!1,timer:1500}),this.$router.push("/admin/products"),this.isLoading=!1}).catch(r=>{d.fire({icon:"error",title:r.response.data.message,showConfirmButton:!1,timer:1500}),this.isLoading=!1})}}},V={class:"container mt-4"},x={class:"row justify-content-center"},L=s("h1",{class:"h3 mb-3 font-weight-normal text-center"}," 請先登入 ",-1),E={class:"col-8"},P={class:"form-floating mb-3"},A=s("label",{for:"username"},"Email address",-1),B={class:"form-floating"},I=s("label",{for:"password"},"Password",-1),k=s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1);function y(r,e,i,n,o,a){const u=p("VueLoading");return h(),f(g,null,[_(u,{active:o.isLoading},null,8,["active"]),s("div",V,[s("div",x,[L,s("div",E,[s("form",{id:"form",onSubmit:e[2]||(e[2]=w((...t)=>a.login&&a.login(...t),["prevent"]))},[s("div",P,[l(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=t=>o.user.username=t)},null,512),[[c,o.user.username]]),A]),s("div",B,[l(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>o.user.password=t)},null,512),[[c,o.user.password]]),I]),k],32)])])])],64)}const S=m(b,[["render",y]]);export{S as default};
